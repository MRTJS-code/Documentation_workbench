| Category | Current behaviour | Risk / Impact | Suggested enhancement | Effort | Notes / Dependencies |
| --- | --- | --- | --- | --- | --- |
| Performance | Poller scans `NEW/RETRY/WAIT` every run without batching; no limit on concurrent events. | Potential long-run queues or contention if many events accumulate. | Add batch size and optional `TOP (N)` ordering by `EVENT_DATE_CREATE`; consider status lock (e.g., set to `IN PROGRESS`) upon dequeue. | M | SQL change in "Get Events to Process" and variable mapping. |
| Maintainability | Deputy upload packages embed HTTP logic; uses fixed token credentials stored in SSIS Environment | Minor Risk of secret sprawl. | Consider migrating Deputy API authentication to OAuth 2.0 | M | Dependent on change feasibility for a tactical / short life system. |
| Maintainability | `2 Stage Deputy` / `4 Full Extract Build` logic is opaque; no unit checks. | Hard to validate schema changes or new event types. | Add lightweight data validation steps (row counts, key NULL checks) after staging/extract, with thresholds configurable via `ETL_EVENT_VARIABLES`. | M | Could be implemented with Execute SQL tasks and fail precedence. |
